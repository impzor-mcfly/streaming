{"version":3,"sources":["app.js"],"names":["iniciarApp","navegacionFija","crearGaleria","scrollNav","countup","porqueStreaming","document","querySelector","counters","querySelectorAll","stopcounter","window","addEventListener","getBoundingClientRect","bottom","Boolean","forEach","counter","textContent","updateCounter","target","getAttribute","count","inc","Math","ceil","setTimeout","console","log","barra","sobreFestival","body","classList","add","remove","enlace","e","preventDefault","seccionScroll","attributes","href","value","scrollIntoView","behavior","galeria","i","imagen","createElement","innerHTML","onclick","mostrarImagen","appendChild","id","overlay","cerrarModal"],"mappings":"AAKA,SAASA,aACLC,iBACAC,eACAC,YACAC,UAEJ,SAASA,UACL,MAAMC,EAAkBC,SAASC,cAAc,kBACzCC,EAAWF,SAASG,iBAAiB,YAE3C,IAAIC,GAAc,EAElBC,OAAOC,iBAAiB,UAAU,WACzBP,EAAgBQ,wBAAwBC,OAAS,GAAsB,GAAfJ,IACzDA,EAAcK,SAAQ,GAGtBP,EAASQ,SAAQ,SAAUC,GACvBA,EAAQC,YAAc,IACtB,MAAMC,EAAgB,KAClB,MAAMC,GAAUH,EAAQI,aAAa,eAC/BC,GAASL,EAAQC,YAEjBK,EAAMH,EAdd,GAgBME,EAAQF,GACRH,EAAQC,YAAcM,KAAKC,KAAKH,EAAQC,GACxCG,WAAWP,EAAe,MAE1BG,EAAMJ,YAAcE,EACpBH,EAAQC,YAAcE,EAAS,IAC/BO,QAAQC,WAAWlB,EAAaA,KAIxCS,OAEJQ,QAAQC,IAAI,mBAEXvB,EAAgBQ,wBAAwBC,OAAS,GAAsB,GAAfJ,IACzDA,GAAc,EACdiB,QAAQC,IAAIlB,OAKxB,SAAST,iBACL,MAAM4B,EAAQvB,SAASC,cAAc,WAC/BuB,EAAgBxB,SAASC,cAAc,UACvCwB,EAAOzB,SAASC,cAAc,QAGpCI,OAAOC,iBAAiB,UAAU,WAC1BkB,EAAcjB,wBAAwBC,OAAS,GAC/Ce,EAAMG,UAAUC,IAAI,QACpBF,EAAKC,UAAUC,IAAI,iBAEnBJ,EAAMG,UAAUE,OAAO,QACvBH,EAAKC,UAAUE,OAAO,mBAMlC,SAAS/B,YACWG,SAASG,iBAAiB,2BAElCO,QAAQmB,IACZA,EAAOvB,iBAAiB,SAAS,SAAUwB,GACvCA,EAAEC,iBAEF,MAAMC,EAAgBF,EAAEhB,OAAOmB,WAAWC,KAAKC,MAC/BnC,SAASC,cAAc+B,GAC/BI,eAAe,CAAEC,SAAU,gBAK/C,SAASzC,eACL,MAAM0C,EAAUtC,SAASC,cAAc,qBAEvC,IAAK,IAAIsC,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAC1B,MAAMC,EAASxC,SAASyC,cAAc,WACtCD,EAAOE,UAAY,iDACmBH,2EACAA,6GACkCA,yCAExEC,EAAOG,QAAU,WACbC,cAAcL,IAGlBD,EAAQO,YAAYL,IAK5B,SAASI,cAAcE,GACnB,MAAMN,EAASxC,SAASyC,cAAc,WACtCD,EAAOE,UAAY,8CACoBI,wEACAA,0GACkCA,qCAIzE,MAAMC,EAAU/C,SAASyC,cAAc,OACvCM,EAAQF,YAAYL,GACpBO,EAAQrB,UAAUC,IAAI,WACtBoB,EAAQJ,QAAU,WACD3C,SAASC,cAAc,QAC/ByB,UAAUE,OAAO,cACtBmB,EAAQnB,UAIZ,MAAMoB,EAAchD,SAASyC,cAAc,KAC3CO,EAAYpC,YAAc,IAC1BoC,EAAYtB,UAAUC,IAAI,cAC1BqB,EAAYL,QAAU,WACL3C,SAASC,cAAc,QAC/ByB,UAAUE,OAAO,cACtBmB,EAAQnB,UAEZmB,EAAQF,YAAYG,GAGpB,MAAMvB,EAAOzB,SAASC,cAAc,QACpCwB,EAAKoB,YAAYE,GACjBtB,EAAKC,UAAUC,IAAI,cArIvB3B,SAASM,iBAAiB,oBAAoB,WAC1CZ","file":"app.js","sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', function () {\n    iniciarApp();\n});\n\nfunction iniciarApp() {\n    navegacionFija();\n    crearGaleria();\n    scrollNav();\n    countup();\n}\nfunction countup() {\n    const porqueStreaming = document.querySelector('.cercania-info');\n    const counters = document.querySelectorAll('.counter');\n    const speed = 39;\n    var stopcounter = false;\n\n    window.addEventListener('scroll', function () {\n        if ((porqueStreaming.getBoundingClientRect().bottom < 0) && (stopcounter == false)) {\n            stopcounter = Boolean(true);\n\n\n            counters.forEach(function (counter) {\n                counter.textContent = '0';\n                const updateCounter = () => {\n                    const target = +counter.getAttribute('data-target')\n                    const count = +counter.textContent;\n\n                    const inc = target / speed;\n\n                    if (count < target) {\n                        counter.textContent = Math.ceil(count + inc);\n                        setTimeout(updateCounter, 10);\n                    } else {\n                        count.textContent = target;\n                        counter.textContent = target + '%';\n                        console.log(typeof stopcounter, stopcounter);\n                    }\n\n                };\n                updateCounter();\n            });\n            console.log('entramos al if');\n        }\n        if ((porqueStreaming.getBoundingClientRect().bottom > 0) && (stopcounter == true)) {\n            stopcounter = false\n            console.log(stopcounter);\n        }\n    });\n}\n\nfunction navegacionFija() {\n    const barra = document.querySelector('.header');\n    const sobreFestival = document.querySelector('.video');\n    const body = document.querySelector('body');\n\n\n    window.addEventListener('scroll', function () {\n        if (sobreFestival.getBoundingClientRect().bottom < 0) {\n            barra.classList.add('fijo');\n            body.classList.add('body-scroll');\n        } else {\n            barra.classList.remove('fijo');\n            body.classList.remove('body-scroll');\n        }\n    });\n}\n\n\nfunction scrollNav() {\n    const enlaces = document.querySelectorAll('.navegacion-principal a');\n\n    enlaces.forEach(enlace => {\n        enlace.addEventListener('click', function (e) {\n            e.preventDefault();\n\n            const seccionScroll = e.target.attributes.href.value;\n            const seccion = document.querySelector(seccionScroll);\n            seccion.scrollIntoView({ behavior: \"smooth\" });\n        });\n    });\n}\n\nfunction crearGaleria() {\n    const galeria = document.querySelector('.galeria-imagenes');\n\n    for (let i = 1; i <= 12; i++) {\n        const imagen = document.createElement('picture');\n        imagen.innerHTML = `\n            <source srcset=\"build/img/thumb/${i}.avif\" type=\"image/avif\">\n            <source srcset=\"build/img/thumb/${i}.webp\" type=\"image/webp\">\n            <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"build/img/thumb/${i}.jpg\" alt=\"imagen galeria\">\n        `;\n        imagen.onclick = function () {\n            mostrarImagen(i);\n        }\n\n        galeria.appendChild(imagen);\n    }\n}\n\n\nfunction mostrarImagen(id) {\n    const imagen = document.createElement('picture');\n    imagen.innerHTML = `\n        <source srcset=\"build/img/grande/${id}.avif\" type=\"image/avif\">\n        <source srcset=\"build/img/grande/${id}.webp\" type=\"image/webp\">\n        <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"build/img/grande/${id}.jpg\" alt=\"imagen galeria\">\n    `;\n\n    // Crea el Overlay con la imagen\n    const overlay = document.createElement('DIV');\n    overlay.appendChild(imagen);\n    overlay.classList.add('overlay');\n    overlay.onclick = function () {\n        const body = document.querySelector('body');\n        body.classList.remove('fijar-body');\n        overlay.remove();\n    }\n\n    // Boton para cerrar el Modal\n    const cerrarModal = document.createElement('P');\n    cerrarModal.textContent = 'X';\n    cerrarModal.classList.add('btn-cerrar');\n    cerrarModal.onclick = function () {\n        const body = document.querySelector('body');\n        body.classList.remove('fijar-body');\n        overlay.remove();\n    }\n    overlay.appendChild(cerrarModal);\n\n    // AÃ±adirlo al HTML\n    const body = document.querySelector('body');\n    body.appendChild(overlay);\n    body.classList.add('fijar-body');\n}\n"]}