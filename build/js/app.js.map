{"version":3,"sources":["app.js"],"names":["iniciarApp","navegacionFija","crearGaleria","scrollNav","countup","burgerNav","navToggle","document","querySelector","navMenu","addEventListener","classList","toggle","contains","window","noscroll","removeEventListener","querySelectorAll","forEach","navMenuItem","scrollTo","porqueStreaming","counters","stopcounter","getBoundingClientRect","bottom","Boolean","counter","textContent","updateCounter","target","getAttribute","count","inc","Math","ceil","setTimeout","console","log","barra","sobreFestival","body","add","remove","enlace","e","preventDefault","seccionScroll","attributes","href","value","scrollIntoView","behavior","galeria","i","imagen","createElement","innerHTML","onclick","mostrarImagen","appendChild","id","overlay","cerrarModal"],"mappings":"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","file":"app.js","sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', function () {\n    iniciarApp();\n});\n\nfunction iniciarApp() {\n    navegacionFija();\n    crearGaleria();\n    scrollNav();\n    countup();\n    burgerNav();\n}\n\nfunction burgerNav() {\n    const navToggle = document.querySelector(\".nav-toggle\");\n    const navMenu = document.querySelector(\".nav-menu\");\n    navToggle.addEventListener(\"click\", () => {\n        navMenu.classList.toggle(\"nav-menu-visible\");\n        if(navMenu.classList.contains('nav-menu-visible')){\n            window.addEventListener(\"scroll\", noscroll);\n        }\n        else{\n            window.removeEventListener('scroll', noscroll);\n        }\n    });\n\n    const navMenuItem = document.querySelectorAll(\".nav-menu-item\");\n    navMenuItem.forEach(function (navMenuItem) {\n        navMenuItem.addEventListener(\"click\", () => {\n            if(navMenuItem.classList.contains('idioma')){\n            }\n            else{\n                navMenu.classList.toggle(\"nav-menu-visible\");\n                window.removeEventListener('scroll', noscroll);\n            }\n        });\n    });\n\n}\n\nfunction noscroll() {\n    window.scrollTo(0, 0);\n}\n\nfunction countup() {\n    const porqueStreaming = document.querySelector('.cercania-info');\n    const counters = document.querySelectorAll('.counter');\n    const speed = 39;\n    var stopcounter = false;\n\n    window.addEventListener('scroll', function () {\n        if ((porqueStreaming.getBoundingClientRect().bottom < 0) && (stopcounter == false)) {\n            stopcounter = Boolean(true);\n\n\n            counters.forEach(function (counter) {\n                counter.textContent = '0';\n                const updateCounter = () => {\n                    const target = +counter.getAttribute('data-target')\n                    const count = +counter.textContent;\n\n                    const inc = target / speed;\n\n                    if (count < target) {\n                        counter.textContent = Math.ceil(count + inc);\n                        setTimeout(updateCounter, 10);\n                    } else {\n                        count.textContent = target;\n                        counter.textContent = target + '%';\n                        console.log(typeof stopcounter, stopcounter);\n                    }\n\n                };\n                updateCounter();\n            });\n            console.log('entramos al if');\n        }\n        if ((porqueStreaming.getBoundingClientRect().bottom > 0) && (stopcounter == true)) {\n            stopcounter = false\n            console.log(stopcounter);\n        }\n    });\n}\n\nfunction navegacionFija() {\n    const barra = document.querySelector('.header');\n    const sobreFestival = document.querySelector('.video');\n    const body = document.querySelector('body');\n\n\n    window.addEventListener('scroll', function () {\n        if (sobreFestival.getBoundingClientRect().bottom < 0) {\n            barra.classList.add('fijo');\n            body.classList.add('body-scroll');\n        } else {\n            barra.classList.remove('fijo');\n            body.classList.remove('body-scroll');\n        }\n    });\n}\n\n\nfunction scrollNav() {\n    const enlaces = document.querySelectorAll('.navegacion-principal .nav-menu-link');\n\n    enlaces.forEach(enlace => {\n        enlace.addEventListener('click', function (e) {\n            if(enlace.classList.contains('idioma')){\n            }\n            else{\n            e.preventDefault();\n\n                const seccionScroll = e.target.attributes.href.value;\n                const seccion = document.querySelector(seccionScroll);\n                seccion.scrollIntoView({ behavior: \"smooth\" });\n            }\n        });\n    });\n}\n\nfunction crearGaleria() {\n    const galeria = document.querySelector('.galeria-imagenes');\n\n    for (let i = 1; i <= 12; i++) {\n        const imagen = document.createElement('picture');\n        imagen.innerHTML = `\n            <source srcset=\"build/img/thumb/${i}.avif\" type=\"image/avif\">\n            <source srcset=\"build/img/thumb/${i}.webp\" type=\"image/webp\">\n            <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"build/img/thumb/${i}.jpg\" alt=\"imagen galeria\">\n        `;\n        imagen.onclick = function () {\n            mostrarImagen(i);\n        }\n\n        galeria.appendChild(imagen);\n    }\n}\n\n\nfunction mostrarImagen(id) {\n    const imagen = document.createElement('picture');\n    imagen.innerHTML = `\n        <source srcset=\"build/img/grande/${id}.avif\" type=\"image/avif\">\n        <source srcset=\"build/img/grande/${id}.webp\" type=\"image/webp\">\n        <img loading=\"lazy\" width=\"200\" height=\"300\" src=\"build/img/grande/${id}.jpg\" alt=\"imagen galeria\">\n    `;\n\n    // Crea el Overlay con la imagen\n    const overlay = document.createElement('DIV');\n    overlay.appendChild(imagen);\n    overlay.classList.add('overlay');\n    overlay.onclick = function () {\n        const body = document.querySelector('body');\n        body.classList.remove('fijar-body');\n        overlay.remove();\n    }\n\n    // Boton para cerrar el Modal\n    const cerrarModal = document.createElement('P');\n    cerrarModal.textContent = 'X';\n    cerrarModal.classList.add('btn-cerrar');\n    cerrarModal.onclick = function () {\n        const body = document.querySelector('body');\n        body.classList.remove('fijar-body');\n        overlay.remove();\n    }\n    overlay.appendChild(cerrarModal);\n\n    // AÃ±adirlo al HTML\n    const body = document.querySelector('body');\n    body.appendChild(overlay);\n    body.classList.add('fijar-body');\n}\n"]}